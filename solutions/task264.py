T=3,2,1
p=lambda g:[sum([eval(f"sorted([0in(S:=sum(g,T)),[i!=5for i in S],*g]{'for*g,in map(zip,g,g[1:],g[2:])'*2})#{g}")[42>>Y&7*~-X^Y][-x]for Y in T],())for X in T for x in T]
# ----------------------------------------------------------------
# post-comp-diamonds
