p=lambda g:g[225:]or[(r,r[8-r[3]::-1]+r[9-r[3]:])[5in r[:3]]for r in zip(*p(g*2)[::-1])]
# ----------------------------------------------------------------
# post-comp-diamonds
