def p(i):m,r=range,15;n=sum(i,f:=[]);i=[[]];[(i:=[i+[(e,f)]for i in i for e in m(3*r)if n[e]<1],f:=[])for e in m(3*r)if f==(f:=f+[m for m in m(e,150,r)if n[m]&(e<r)])>[]];return max([*zip(*[((any(m+min(i)-e in i for e,i in i if e%r<5+m%r)+n[m]%5)%3for m in m(150))]*r)]for i in i)
# ----------------------------------------------------------------
# compression: cgi
# jailctf
