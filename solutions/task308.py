def p(g):w=len(g[0]);g=bytes(sum(g,[]));m=max(g:={g.count(v)<9and i+i-g.find(v)-g.rfind(v)>>1:v for i,v in enumerate(g)})//w;R=range(-m,m+1);return[[g.get(a*w+c,g[0])for c in R]for a in R]
# ----------------------------------------------------------------
# post-comp-diamonds
