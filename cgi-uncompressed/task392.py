p=lambda g,n=23:-n*g or[eval(f"r.pop()or[5,w:=max(max(g))][{n}//4%(('0, %d, '%w*2in'{g}')-3)]*any(r[-1:]),"*10)for*r,in zip(*p(g,n-1))]