p=lambda g,x=324:g[:exec("x-=1\nif x&3<len(l:={*g[%s+g[1%s})*all(l):g[2+x%%4%s=3,3\n"%(("+x//36][x%9:x%9+2]",)*3)*x)]