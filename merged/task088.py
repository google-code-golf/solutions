exec(f"def p(g):{'g[:]=zip(*g[any(h:=g[-1])-2::-1]);'*48}return[[h[g<1]"+'for g in g][1:-1]'*2)